#!/usr/bin/env python3.6
"""Start Kytos SDN Platform core."""
import signal
import sys
from kytos.core import Controller
from kytos.core.config import KytosConfig
from kytos.core.daemon import KytosDaemon
from kytos.core.console import KytosConsole

if __name__ == '__main__':
    config = KytosConfig()
    controller = Controller(config.options['daemon'])

    if controller.options.foreground:
        console = KytosConsole(controller)
        console.start()
    else:
        d = KytosDaemon(controller)
        if len(sys.argv) == 1:
            d.start()
        else:
            func = getattr(d,sys.argv[1])
            if sys.argv[1] == 'status':
                print(func())
            else:
                func()
